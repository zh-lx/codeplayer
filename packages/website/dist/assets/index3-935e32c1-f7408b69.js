import{f as L,_ as F,D as ot,e as it}from"./index-8e8c1687-18fcf4d9.js";var st=Object.defineProperty,at=(n,e,t)=>e in n?st(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ct=(n,e,t)=>(at(n,typeof e!="symbol"?e+"":e,t),t),ce={},Y={},ue={},A={},j={};Object.defineProperty(j,"__esModule",{value:!0});function ut(n){return le(n)}j.clone=ut;function le(n){return Array.isArray(n)?lt(n):typeof n=="object"?ht(n):n}function lt(n){for(var e=[],t=0,r=n.length;t<r;t++)e[t]=le(n[t]);return e}function ht(n){var e={};for(var t in n)e[t]=le(n[t]);return e}function pt(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(r){for(var o in r)n[o]=r[o]}),n}j.mergeObjects=pt;var ve=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,ft=function(){function n(){}return n.hasCaptures=function(e){return ve.test(e)},n.replaceCaptures=function(e,t,r){return e.replace(ve,function(o,i,s,a){var c=r[parseInt(i||s,10)];if(c){for(var u=t.substring(c.start,c.end);u[0]===".";)u=u.substring(1);switch(a){case"downcase":return u.toLowerCase();case"upcase":return u.toUpperCase();default:return u}}else return o})},n}();j.RegexSource=ft;var C={},Q=L&&L.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(C,"__esModule",{value:!0});var dt=ot,q=j,Ee=it,gt=/\\(\d+)/,ke=/\\(\d+)/g,B=function(){function n(e,t,r,o){this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=q.RegexSource.hasCaptures(this._name),this._contentName=o||null,this._contentNameIsCapturing=q.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(n.prototype,"debugName",{get:function(){return this.constructor.name+"#"+this.id+" @ "+dt.basename(this.$location.filename)+":"+this.$location.line},enumerable:!0,configurable:!0}),n.prototype.getName=function(e,t){return this._nameIsCapturing?q.RegexSource.replaceCaptures(this._name,e,t):this._name},n.prototype.getContentName=function(e,t){return this._contentNameIsCapturing?q.RegexSource.replaceCaptures(this._contentName,e,t):this._contentName},n.prototype.collectPatternsRecursive=function(e,t,r){throw new Error("Implement me!")},n.prototype.compile=function(e,t,r,o){throw new Error("Implement me!")},n}();C.Rule=B;var xe=function(n){Q(e,n);function e(t,r,o,i,s){var a=n.call(this,t,r,o,i)||this;return a.retokenizeCapturedWithRuleId=s,a}return e}(B);C.CaptureRule=xe;var N=function(){function n(e,t,r){r===void 0&&(r=!0),r?this._handleAnchors(e):(this.source=e,this.hasAnchor=!1),this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()),this.ruleId=t,this.hasBackReferences=gt.test(this.source)}return n.prototype.clone=function(){return new n(this.source,this.ruleId,!0)},n.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},n.prototype._handleAnchors=function(e){if(e){var t=void 0,r=void 0,o=void 0,i=void 0,s=0,a=[],c=!1;for(t=0,r=e.length;t<r;t++)o=e.charAt(t),o==="\\"&&t+1<r&&(i=e.charAt(t+1),i==="z"?(a.push(e.substring(s,t)),a.push("$(?!\\n)(?<!\\n)"),s=t+2):(i==="A"||i==="G")&&(c=!0),t++);this.hasAnchor=c,s===0?this.source=e:(a.push(e.substring(s,r)),this.source=a.join(""))}else this.hasAnchor=!1,this.source=e},n.prototype.resolveBackReferences=function(e,t){var r=t.map(function(o){return e.substring(o.start,o.end)});return ke.lastIndex=0,this.source.replace(ke,function(o,i){return yt(r[parseInt(i,10)]||"")})},n.prototype._buildAnchorCache=function(){var e=[],t=[],r=[],o=[],i,s,a,c;for(i=0,s=this.source.length;i<s;i++)a=this.source.charAt(i),e[i]=a,t[i]=a,r[i]=a,o[i]=a,a==="\\"&&i+1<s&&(c=this.source.charAt(i+1),c==="A"?(e[i+1]="￿",t[i+1]="￿",r[i+1]="A",o[i+1]="A"):c==="G"?(e[i+1]="￿",t[i+1]="G",r[i+1]="￿",o[i+1]="G"):(e[i+1]=c,t[i+1]=c,r[i+1]=c,o[i+1]=c),i++);return{A0_G0:e.join(""),A0_G1:t.join(""),A1_G0:r.join(""),A1_G1:o.join("")}},n.prototype.resolveAnchors=function(e,t){return this.hasAnchor?e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},n}();C.RegExpSource=N;function be(n){return new Ee.OnigScanner(n)}function mt(n){var e=new Ee.OnigString(n);return e.$str=n,e}C.createOnigString=mt;function _t(n){return n.$str}C.getString=_t;var O=function(){function n(){this._items=[],this._hasAnchors=!1,this._cached=null,this._cachedSources=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return n.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},n.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},n.prototype.length=function(){return this._items.length},n.prototype.setSource=function(e,t){this._items[e].source!==t&&(this._cached=null,this._anchorCache.A0_G0=null,this._anchorCache.A0_G1=null,this._anchorCache.A1_G0=null,this._anchorCache.A1_G1=null,this._items[e].setSource(t))},n.prototype.compile=function(e,t,r){if(this._hasAnchors)return this._anchorCache={A0_G0:this._anchorCache.A0_G0||(t===!1&&r===!1?this._resolveAnchors(t,r):null),A0_G1:this._anchorCache.A0_G1||(t===!1&&r===!0?this._resolveAnchors(t,r):null),A1_G0:this._anchorCache.A1_G0||(t===!0&&r===!1?this._resolveAnchors(t,r):null),A1_G1:this._anchorCache.A1_G1||(t===!0&&r===!0?this._resolveAnchors(t,r):null)},t?r?this._anchorCache.A1_G1:this._anchorCache.A1_G0:r?this._anchorCache.A0_G1:this._anchorCache.A0_G0;if(!this._cached){var o=this._items.map(function(i){return i.source});this._cached={scanner:be(o),rules:this._items.map(function(i){return i.ruleId}),debugRegExps:o}}return this._cached},n.prototype._resolveAnchors=function(e,t){var r=this._items.map(function(o){return o.resolveAnchors(e,t)});return{scanner:be(r),rules:this._items.map(function(o){return o.ruleId}),debugRegExps:r}},n}();C.RegExpSourceList=O;var Ge=function(n){Q(e,n);function e(t,r,o,i,s){var a=n.call(this,t,r,o,null)||this;return a._match=new N(i,a.id),a.captures=s,a._cachedCompiledPatterns=null,a}return Object.defineProperty(e.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),e.prototype.collectPatternsRecursive=function(t,r,o){r.push(this._match)},e.prototype.compile=function(t,r,o,i){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new O,this.collectPatternsRecursive(t,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(t,o,i)},e}(B);C.MatchRule=Ge;var re=function(n){Q(e,n);function e(t,r,o,i,s){var a=n.call(this,t,r,o,i)||this;return a.patterns=s.patterns,a.hasMissingPatterns=s.hasMissingPatterns,a._cachedCompiledPatterns=null,a}return e.prototype.collectPatternsRecursive=function(t,r,o){var i,s,a;for(i=0,s=this.patterns.length;i<s;i++)a=t.getRule(this.patterns[i]),a.collectPatternsRecursive(t,r,!1)},e.prototype.compile=function(t,r,o,i){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new O,this.collectPatternsRecursive(t,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(t,o,i)},e}(B);C.IncludeOnlyRule=re;function yt(n){return n.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var oe=function(n){Q(e,n);function e(t,r,o,i,s,a,c,u,l,p){var h=n.call(this,t,r,o,i)||this;return h._begin=new N(s,h.id),h.beginCaptures=a,h._end=new N(c,-1),h.endHasBackReferences=h._end.hasBackReferences,h.endCaptures=u,h.applyEndPatternLast=l||!1,h.patterns=p.patterns,h.hasMissingPatterns=p.hasMissingPatterns,h._cachedCompiledPatterns=null,h}return Object.defineProperty(e.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),e.prototype.getEndWithResolvedBackReferences=function(t,r){return this._end.resolveBackReferences(t,r)},e.prototype.collectPatternsRecursive=function(t,r,o){if(o){var i=void 0,s=void 0,a=void 0;for(i=0,s=this.patterns.length;i<s;i++)a=t.getRule(this.patterns[i]),a.collectPatternsRecursive(t,r,!1)}else r.push(this._begin)},e.prototype.compile=function(t,r,o,i){var s=this._precompile(t);return this._end.hasBackReferences&&(this.applyEndPatternLast?s.setSource(s.length()-1,r):s.setSource(0,r)),this._cachedCompiledPatterns.compile(t,o,i)},e.prototype._precompile=function(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new O,this.collectPatternsRecursive(t,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._cachedCompiledPatterns},e}(B);C.BeginEndRule=oe;var ie=function(n){Q(e,n);function e(t,r,o,i,s,a,c,u,l){var p=n.call(this,t,r,o,i)||this;return p._begin=new N(s,p.id),p.beginCaptures=a,p.whileCaptures=u,p._while=new N(c,-2),p.whileHasBackReferences=p._while.hasBackReferences,p.patterns=l.patterns,p.hasMissingPatterns=l.hasMissingPatterns,p._cachedCompiledPatterns=null,p._cachedCompiledWhilePatterns=null,p}return e.prototype.getWhileWithResolvedBackReferences=function(t,r){return this._while.resolveBackReferences(t,r)},e.prototype.collectPatternsRecursive=function(t,r,o){if(o){var i=void 0,s=void 0,a=void 0;for(i=0,s=this.patterns.length;i<s;i++)a=t.getRule(this.patterns[i]),a.collectPatternsRecursive(t,r,!1)}else r.push(this._begin)},e.prototype.compile=function(t,r,o,i){return this._precompile(t),this._cachedCompiledPatterns.compile(t,o,i)},e.prototype._precompile=function(t){this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new O,this.collectPatternsRecursive(t,this._cachedCompiledPatterns,!0))},e.prototype.compileWhile=function(t,r,o,i){return this._precompileWhile(t),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,r),this._cachedCompiledWhilePatterns.compile(t,o,i)},e.prototype._precompileWhile=function(t){this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new O,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while))},e}(B);C.BeginWhileRule=ie;var vt=function(){function n(){}return n.createCaptureRule=function(e,t,r,o,i){return e.registerRule(function(s){return new xe(t,s,r,o,i)})},n.getCompiledRuleId=function(e,t,r){return e.id||t.registerRule(function(o){return e.id=o,e.match?new Ge(e.$vscodeTextmateLocation,e.id,e.name,e.match,n._compileCaptures(e.captures,t,r)):e.begin?e.while?new ie(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,n._compileCaptures(e.beginCaptures||e.captures,t,r),e.while,n._compileCaptures(e.whileCaptures||e.captures,t,r),n._compilePatterns(e.patterns,t,r)):new oe(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,n._compileCaptures(e.beginCaptures||e.captures,t,r),e.end,n._compileCaptures(e.endCaptures||e.captures,t,r),e.applyEndPatternLast,n._compilePatterns(e.patterns,t,r)):(e.repository&&(r=q.mergeObjects({},r,e.repository)),new re(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,n._compilePatterns(e.patterns,t,r)))}),e.id},n._compileCaptures=function(e,t,r){var o=[],i,s,a,c;if(e){s=0;for(c in e)c!=="$vscodeTextmateLocation"&&(i=parseInt(c,10),i>s&&(s=i));for(a=0;a<=s;a++)o[a]=null;for(c in e)if(c!=="$vscodeTextmateLocation"){i=parseInt(c,10);var u=0;e[c].patterns&&(u=n.getCompiledRuleId(e[c],t,r)),o[i]=n.createCaptureRule(t,e[c].$vscodeTextmateLocation,e[c].name,e[c].contentName,u)}}return o},n._compilePatterns=function(e,t,r){var o=[],i,s,a,c,u,l,p;if(e)for(s=0,a=e.length;s<a;s++){if(i=e[s],c=-1,i.include)if(i.include.charAt(0)==="#"){var h=r[i.include.substr(1)];h&&(c=n.getCompiledRuleId(h,t,r))}else if(i.include==="$base"||i.include==="$self")c=n.getCompiledRuleId(r[i.include],t,r);else{var d=null,g=null,y=i.include.indexOf("#");if(y>=0?(d=i.include.substring(0,y),g=i.include.substring(y+1)):d=i.include,u=t.getExternalGrammar(d,r),u)if(g){var k=u.repository[g];k&&(c=n.getCompiledRuleId(k,t,u.repository))}else c=n.getCompiledRuleId(u.repository.$self,t,u.repository)}else c=n.getCompiledRuleId(i,t,r);if(c!==-1){if(l=t.getRule(c),p=!1,(l instanceof re||l instanceof oe||l instanceof ie)&&l.hasMissingPatterns&&l.patterns.length===0&&(p=!0),p)continue;o.push(c)}}return{patterns:o,hasMissingPatterns:(e?e.length:0)!==o.length}},n}();C.RuleFactory=vt;var he={};Object.defineProperty(he,"__esModule",{value:!0});function kt(n,e){for(var t=[],r=bt(n),o=r.next();o!==null;){var i=0;if(o.length===2&&o.charAt(1)===":"){switch(o.charAt(0)){case"R":i=1;break;case"L":i=-1;break;default:console.log("Unknown priority "+o+" in scope selector")}o=r.next()}var s=c();if(s&&t.push({matcher:s,priority:i}),o!==",")break;o=r.next()}return t;function a(){if(o==="-"){o=r.next();var l=a();return function(d){return l&&!l(d)}}if(o==="("){o=r.next();var p=u();return o===")"&&(o=r.next()),p}if(Se(o)){var h=[];do h.push(o),o=r.next();while(Se(o));return function(d){return e(h,d)}}return null}function c(){for(var l=[],p=a();p;)l.push(p),p=a();return function(h){return l.every(function(d){return d(h)})}}function u(){for(var l=[],p=c();p&&(l.push(p),o==="|"||o===",");){do o=r.next();while(o==="|"||o===",");p=c()}return function(h){return l.some(function(d){return d(h)})}}}he.createMatchers=kt;function Se(n){return n&&n.match(/[\w\.:]+/)}function bt(n){var e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,t=e.exec(n);return{next:function(){if(!t)return null;var r=t[0];return t=e.exec(n),r}}}var X={};Object.defineProperty(X,"__esModule",{value:!0});X.CAPTURE_METADATA=typeof process>"u"?!1:!!{}.VSCODE_TEXTMATE_DEBUG;X.IN_DEBUG_MODE=typeof process>"u"?!1:!!{}.VSCODE_TEXTMATE_DEBUG;Object.defineProperty(A,"__esModule",{value:!0});var St=j,b=C,Me=he,T=X;function Rt(n,e,t,r,o){return new Oe(n,e,t,r,o)}A.createGrammar=Rt;function pe(n,e){for(var t=0,r=e.length;t<r;t++){Array.isArray(e[t].patterns)&&pe(n,e[t].patterns);var o=e[t].include;if(o&&!(o==="$base"||o==="$self")&&o.charAt(0)!=="#"){var i=o.indexOf("#");i>=0?n[o.substring(0,i)]=!0:n[o]=!0}}}function Le(n,e){for(var t in e){var r=e[t];r.patterns&&Array.isArray(r.patterns)&&pe(n,r.patterns),r.repository&&Le(n,r.repository)}}function Ct(n,e){e.patterns&&Array.isArray(e.patterns)&&pe(n,e.patterns),e.repository&&Le(n,e.repository),delete n[e.scopeName]}A.collectIncludedScopes=Ct;function wt(n,e){if(!n)return!1;if(n===e)return!0;var t=e.length;return n.length>t&&n.substr(0,t)===e&&n[t]==="."}function Ne(n,e){if(e.length<n.length)return!1;var t=0;return n.every(function(r){for(var o=t;o<e.length;o++)if(wt(e[o],r))return t=o+1,!0;return!1})}function Re(n,e,t,r,o){for(var i=Me.createMatchers(e,Ne),s=b.RuleFactory.getCompiledRuleId(t,r,o.repository),a=0,c=i;a<c.length;a++){var u=c[a];n.push({matcher:u.matcher,ruleId:s,grammar:o,priority:u.priority})}}var J=function(){function n(e,t,r,o){this.scopeName=e,this.languageId=t,this.tokenType=r,this.themeData=o}return n}();A.ScopeMetadata=J;var Tt=function(){function n(e,t,r){if(this._initialLanguage=e,this._themeProvider=t,this.onDidChangeTheme(),this._embeddedLanguages=Object.create(null),r)for(var o=Object.keys(r),i=0,s=o.length;i<s;i++){var a=o[i],c=r[a];if(typeof c!="number"||c===0){console.warn("Invalid embedded language found at scope "+a+": <<"+c+">>");continue}this._embeddedLanguages[a]=c}var u=Object.keys(this._embeddedLanguages).map(function(l){return n._escapeRegExpCharacters(l)});u.length===0?this._embeddedLanguagesRegex=null:(u.sort(),u.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+u.join(")|(")+"))($|\\.)",""))}return n.prototype.onDidChangeTheme=function(){this._cache=Object.create(null),this._defaultMetaData=new J("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},n.prototype.getDefaultMetadata=function(){return this._defaultMetaData},n._escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},n.prototype.getMetadataForScope=function(e){if(e===null)return n._NULL_SCOPE_METADATA;var t=this._cache[e];return t||(t=this._doGetMetadataForScope(e),this._cache[e]=t,t)},n.prototype._doGetMetadataForScope=function(e){var t=this._scopeToLanguage(e),r=this._toStandardTokenType(e),o=this._themeProvider.themeMatch(e);return new J(e,t,r,o)},n.prototype._scopeToLanguage=function(e){if(!e||!this._embeddedLanguagesRegex)return 0;var t=e.match(this._embeddedLanguagesRegex);if(!t)return 0;var r=this._embeddedLanguages[t[1]]||0;return r||0},n.prototype._toStandardTokenType=function(e){var t=e.match(n.STANDARD_TOKEN_TYPE_REGEXP);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},n._NULL_SCOPE_METADATA=new J("",0,0,null),n.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,n}(),Oe=function(){function n(e,t,r,o,i){if(this._scopeMetadataProvider=new Tt(t,i,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[],this._includedGrammars={},this._grammarRepository=i,this._grammar=Ce(e,null),this._tokenTypeMatchers=[],o)for(var s=0,a=Object.keys(o);s<a.length;s++)for(var c=a[s],u=Me.createMatchers(c,Ne),l=0,p=u;l<p.length;l++){var h=p[l];this._tokenTypeMatchers.push({matcher:h.matcher,type:o[c]})}}return n.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},n.prototype.getMetadataForScope=function(e){return this._scopeMetadataProvider.getMetadataForScope(e)},n.prototype.getInjections=function(){var e=this;if(!this._injections){this._injections=[];var t=this._grammar.injections;if(t)for(var r in t)Re(this._injections,r,t[r],this,this._grammar);if(this._grammarRepository){var o=this._grammarRepository.injections(this._grammar.scopeName);o&&o.forEach(function(i){var s=e.getExternalGrammar(i);if(s){var a=s.injectionSelector;a&&Re(e._injections,a,s,e,s)}})}this._injections.sort(function(i,s){return i.priority-s.priority})}return this._injections.length===0?this._injections:this._injections},n.prototype.registerRule=function(e){var t=++this._lastRuleId,r=e(t);return this._ruleId2desc[t]=r,r},n.prototype.getRule=function(e){return this._ruleId2desc[e]},n.prototype.getExternalGrammar=function(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){var r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=Ce(r,t&&t.$base),this._includedGrammars[e]}},n.prototype.tokenizeLine=function(e,t){var r=this._tokenize(e,t,!1);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack}},n.prototype.tokenizeLine2=function(e,t){var r=this._tokenize(e,t,!0);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack}},n.prototype._tokenize=function(e,t,r){this._rootId===-1&&(this._rootId=b.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository));var o;if(!t||t===ae.NULL){o=!0;var i=this._scopeMetadataProvider.getDefaultMetadata(),s=i.themeData[0],a=K.set(0,i.languageId,i.tokenType,s.fontStyle,s.foreground,s.background),c=this.getRule(this._rootId).getName(null,null),u=this._scopeMetadataProvider.getMetadataForScope(c),l=se.mergeMetadata(a,null,u),p=new se(null,c,l);t=new ae(null,this._rootId,-1,null,p,p)}else o=!1,t.reset();e=e+`
`;var h=b.createOnigString(e),d=b.getString(h).length,g=new xt(r,e,this._tokenTypeMatchers),y=De(this,h,o,0,t,g);return{lineLength:d,lineTokens:g,ruleStack:y}},n}();A.Grammar=Oe;function Ce(n,e){return n=St.clone(n),n.repository=n.repository||{},n.repository.$self={$vscodeTextmateLocation:n.$vscodeTextmateLocation,patterns:n.patterns,name:n.scopeName},n.repository.$base=e||n.repository.$self,n}function z(n,e,t,r,o,i,s){if(i.length!==0){for(var a=Math.min(i.length,s.length),c=[],u=s[0].end,l=0;l<a;l++){var p=i[l];if(p!==null){var h=s[l];if(h.length!==0){if(h.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=h.start;)o.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?o.produceFromScopes(c[c.length-1].scopes,h.start):o.produce(r,h.start),p.retokenizeCapturedWithRuleId){var d=p.getName(b.getString(e),s),g=r.contentNameScopesList.push(n,d),y=p.getContentName(b.getString(e),s),k=g.push(n,y),m=r.push(p.retokenizeCapturedWithRuleId,h.start,null,g,k);De(n,b.createOnigString(b.getString(e).substring(0,h.end)),t&&h.start===0,h.start,m,o);continue}var w=p.getName(b.getString(e),s);if(w!==null){var x=c.length>0?c[c.length-1].scopes:r.contentNameScopesList,_=x.push(n,w);c.push(new je(_,h.end))}}}}for(;c.length>0;)o.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}}function fe(n){for(var e=[],t=0,r=n.rules.length;t<r;t++)e.push("   - "+n.rules[t]+": "+n.debugRegExps[t]);return e.join(`
`)}function At(n,e,t,r,o,i,s){for(var a=Number.MAX_VALUE,c=null,u,l=0,p=i.contentNameScopesList.generateScopes(),h=0,d=n.length;h<d;h++){var g=n[h];if(g.matcher(p)){var y=e.getRule(g.ruleId).compile(e,null,r,o===s),k=y.scanner.findNextMatchSync(t,o);if(T.IN_DEBUG_MODE&&(console.log("  scanning for injections"),console.log(fe(y))),!!k){var m=k.captureIndices[0].start;if(!(m>=a)&&(a=m,c=k.captureIndices,u=y.rules[k.index],l=g.priority,a===o))break}}}return c?{priorityMatch:l===-1,captureIndices:c,matchedRuleId:u}:null}function Pt(n,e,t,r,o,i){var s=o.getRule(n),a=s.compile(n,o.endRule,t,r===i),c=a.scanner.findNextMatchSync(e,r);return T.IN_DEBUG_MODE&&(console.log("  scanning for"),console.log(fe(a))),c?{captureIndices:c.captureIndices,matchedRuleId:a.rules[c.index]}:null}function It(n,e,t,r,o,i){var s=Pt(n,e,t,r,o,i),a=n.getInjections();if(a.length===0)return s;var c=At(a,n,e,t,r,o,i);if(!c)return s;if(!s)return c;var u=s.captureIndices[0].start,l=c.captureIndices[0].start;return l<u||c.priorityMatch&&l===u?c:s}function Et(n,e,t,r,o,i){for(var s=-1,a=[],c=o;c;c=c.pop()){var u=c.getRule(n);u instanceof b.BeginWhileRule&&a.push({rule:u,stack:c})}for(var l=a.pop();l;l=a.pop()){var p=l.rule.compileWhile(n,l.stack.endRule,t,s===r),h=p.scanner.findNextMatchSync(e,r);if(T.IN_DEBUG_MODE&&(console.log("  scanning for while rule"),console.log(fe(p))),h){var d=p.rules[h.index];if(d!==-2){o=l.stack.pop();break}h.captureIndices&&h.captureIndices.length&&(i.produce(l.stack,h.captureIndices[0].start),z(n,e,t,l.stack,i,l.rule.whileCaptures,h.captureIndices),i.produce(l.stack,h.captureIndices[0].end),s=h.captureIndices[0].end,h.captureIndices[0].end>r&&(r=h.captureIndices[0].end,t=!1))}else{o=l.stack.pop();break}}return{stack:o,linePos:r,anchorPosition:s,isFirstLine:t}}function De(n,e,t,r,o,i){var s=b.getString(e).length,a=!1,c=Et(n,e,t,r,o,i);o=c.stack,r=c.linePos,t=c.isFirstLine;for(var u=c.anchorPosition;!a;)l();function l(){T.IN_DEBUG_MODE&&(console.log(""),console.log("@@scanNext: |"+b.getString(e).replace(/\n$/,"\\n").substr(r)+"|"));var p=It(n,e,t,r,o,u);if(!p){T.IN_DEBUG_MODE&&console.log("  no more matches."),i.produce(o,s),a=!0;return}var h=p.captureIndices,d=p.matchedRuleId,g=h&&h.length>0?h[0].end>r:!1;if(d===-1){var y=o.getRule(n);T.IN_DEBUG_MODE&&console.log("  popping "+y.debugName+" - "+y.debugEndRegExp),i.produce(o,h[0].start),o=o.setContentNameScopesList(o.nameScopesList),z(n,e,t,o,i,y.endCaptures,h),i.produce(o,h[0].end);var k=o;if(o=o.pop(),!g&&k.getEnterPos()===r){console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),o=k,i.produce(o,s),a=!0;return}}else{var m=n.getRule(d);i.produce(o,h[0].start);var w=o,x=m.getName(b.getString(e),h),_=o.contentNameScopesList.push(n,x);if(o=o.push(d,r,null,_,_),m instanceof b.BeginEndRule){var S=m;T.IN_DEBUG_MODE&&console.log("  pushing "+S.debugName+" - "+S.debugBeginRegExp),z(n,e,t,o,i,S.beginCaptures,h),i.produce(o,h[0].end),u=h[0].end;var G=S.getContentName(b.getString(e),h),$=_.push(n,G);if(o=o.setContentNameScopesList($),S.endHasBackReferences&&(o=o.setEndRule(S.getEndWithResolvedBackReferences(b.getString(e),h))),!g&&w.hasSameRuleAs(o)){console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),o=o.pop(),i.produce(o,s),a=!0;return}}else if(m instanceof b.BeginWhileRule){var S=m;T.IN_DEBUG_MODE&&console.log("  pushing "+S.debugName),z(n,e,t,o,i,S.beginCaptures,h),i.produce(o,h[0].end),u=h[0].end;var G=S.getContentName(b.getString(e),h),$=_.push(n,G);if(o=o.setContentNameScopesList($),S.whileHasBackReferences&&(o=o.setEndRule(S.getWhileWithResolvedBackReferences(b.getString(e),h))),!g&&w.hasSameRuleAs(o)){console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),o=o.pop(),i.produce(o,s),a=!0;return}}else{var M=m;if(T.IN_DEBUG_MODE&&console.log("  matched "+M.debugName+" - "+M.debugMatchRegExp),z(n,e,t,o,i,M.captures,h),i.produce(o,h[0].end),o=o.pop(),!g){console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),o=o.safePop(),i.produce(o,s),a=!0;return}}}h[0].end>r&&(r=h[0].end,t=!1)}return o}var K=function(){function n(){}return n.toBinaryStr=function(e){for(var t=e.toString(2);t.length<32;)t="0"+t;return t},n.printMetadata=function(e){var t=n.getLanguageId(e),r=n.getTokenType(e),o=n.getFontStyle(e),i=n.getForeground(e),s=n.getBackground(e);console.log({languageId:t,tokenType:r,fontStyle:o,foreground:i,background:s})},n.getLanguageId=function(e){return(e&255)>>>0},n.getTokenType=function(e){return(e&1792)>>>8},n.getFontStyle=function(e){return(e&14336)>>>11},n.getForeground=function(e){return(e&8372224)>>>14},n.getBackground=function(e){return(e&4286578688)>>>23},n.set=function(e,t,r,o,i,s){var a=n.getLanguageId(e),c=n.getTokenType(e),u=n.getFontStyle(e),l=n.getForeground(e),p=n.getBackground(e);return t!==0&&(a=t),r!==0&&(c=r===8?0:r),o!==-1&&(u=o),i!==0&&(l=i),s!==0&&(p=s),(a<<0|c<<8|u<<11|l<<14|p<<23)>>>0},n}();A.StackElementMetadata=K;var se=function(){function n(e,t,r){this.parent=e,this.scope=t,this.metadata=r}return n._equals=function(e,t){do{if(e===t)return!0;if(e.scope!==t.scope||e.metadata!==t.metadata)return!1;if(e=e.parent,t=t.parent,!e&&!t)return!0;if(!e||!t)return!1}while(!0)},n.prototype.equals=function(e){return n._equals(this,e)},n._matchesScope=function(e,t,r){return t===e||e.substring(0,r.length)===r},n._matches=function(e,t){if(t===null)return!0;for(var r=t.length,o=0,i=t[o],s=i+".";e;){if(this._matchesScope(e.scope,i,s)){if(o++,o===r)return!0;i=t[o],s=i+"."}e=e.parent}return!1},n.mergeMetadata=function(e,t,r){if(r===null)return e;var o=-1,i=0,s=0;if(r.themeData!==null)for(var a=0,c=r.themeData.length;a<c;a++){var u=r.themeData[a];if(this._matches(t,u.parentScopes)){o=u.fontStyle,i=u.foreground,s=u.background;break}}return K.set(e,r.languageId,r.tokenType,o,i,s)},n._push=function(e,t,r){for(var o=0,i=r.length;o<i;o++){var s=r[o],a=t.getMetadataForScope(s),c=n.mergeMetadata(e.metadata,e,a);e=new n(e,s,c)}return e},n.prototype.push=function(e,t){return t===null?this:t.indexOf(" ")>=0?n._push(this,e,t.split(/ /g)):n._push(this,e,[t])},n._generateScopes=function(e){for(var t=[],r=0;e;)t[r++]=e.scope,e=e.parent;return t.reverse(),t},n.prototype.generateScopes=function(){return n._generateScopes(this)},n}();A.ScopeListElement=se;var ae=function(){function n(e,t,r,o,i,s){this.parent=e,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=t,this._enterPos=r,this.endRule=o,this.nameScopesList=i,this.contentNameScopesList=s}return n._structuralEquals=function(e,t){do{if(e===t)return!0;if(e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;if(e=e.parent,t=t.parent,!e&&!t)return!0;if(!e||!t)return!1}while(!0)},n._equals=function(e,t){return e===t?!0:this._structuralEquals(e,t)?e.contentNameScopesList.equals(t.contentNameScopesList):!1},n.prototype.clone=function(){return this},n.prototype.equals=function(e){return e===null?!1:n._equals(this,e)},n._reset=function(e){for(;e;)e._enterPos=-1,e=e.parent},n.prototype.reset=function(){n._reset(this)},n.prototype.pop=function(){return this.parent},n.prototype.safePop=function(){return this.parent?this.parent:this},n.prototype.push=function(e,t,r,o,i){return new n(this,e,t,r,o,i)},n.prototype.getEnterPos=function(){return this._enterPos},n.prototype.getRule=function(e){return e.getRule(this.ruleId)},n.prototype._writeString=function(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",t},n.prototype.toString=function(){var e=[];return this._writeString(e,0),"["+e.join(",")+"]"},n.prototype.setContentNameScopesList=function(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this.endRule,this.nameScopesList,e)},n.prototype.setEndRule=function(e){return this.endRule===e?this:new n(this.parent,this.ruleId,this._enterPos,e,this.nameScopesList,this.contentNameScopesList)},n.prototype.hasSameRuleAs=function(e){return this.ruleId===e.ruleId},n.NULL=new n(null,0,0,null,null,null),n}();A.StackElement=ae;var je=function(){function n(e,t){this.scopes=e,this.endPos=t}return n}();A.LocalStackElement=je;var xt=function(){function n(e,t,r){this._emitBinaryTokens=e,this._tokenTypeOverrides=r,T.IN_DEBUG_MODE&&(this._lineText=t),this._emitBinaryTokens?this._binaryTokens=[]:this._tokens=[],this._lastTokenEndIndex=0}return n.prototype.produce=function(e,t){this.produceFromScopes(e.contentNameScopesList,t)},n.prototype.produceFromScopes=function(e,t){if(!(this._lastTokenEndIndex>=t)){if(this._emitBinaryTokens){for(var r=e.metadata,o=0,i=this._tokenTypeOverrides;o<i.length;o++){var s=i[o];s.matcher(e.generateScopes())&&(r=K.set(r,0,Gt(s.type),-1,0,0))}if(this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=t;return}var a=e.generateScopes();if(T.IN_DEBUG_MODE){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,t).replace(/\n$/,"\\n")+"|");for(var c=0;c<a.length;c++)console.log("      * "+a[c])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:a}),this._lastTokenEndIndex=t}},n.prototype.getResult=function(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},n.prototype.getBinaryResult=function(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);for(var r=new Uint32Array(this._binaryTokens.length),o=0,i=this._binaryTokens.length;o<i;o++)r[o]=this._binaryTokens[o];return r},n}();function Gt(n){switch(n){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}Object.defineProperty(ue,"__esModule",{value:!0});var we=A,Mt=function(){function n(e){this._theme=e,this._grammars={},this._rawGrammars={},this._injectionGrammars={}}return n.prototype.setTheme=function(e){var t=this;this._theme=e,Object.keys(this._grammars).forEach(function(r){var o=t._grammars[r];o.onDidChangeTheme()})},n.prototype.getColorMap=function(){return this._theme.getColorMap()},n.prototype.addGrammar=function(e,t){this._rawGrammars[e.scopeName]=e;var r={};return we.collectIncludedScopes(r,e),t&&(this._injectionGrammars[e.scopeName]=t,t.forEach(function(o){r[o]=!0})),Object.keys(r)},n.prototype.lookup=function(e){return this._rawGrammars[e]},n.prototype.injections=function(e){return this._injectionGrammars[e]},n.prototype.getDefaults=function(){return this._theme.getDefaults()},n.prototype.themeMatch=function(e){return this._theme.match(e)},n.prototype.grammarForScopeName=function(e,t,r,o){if(!this._grammars[e]){var i=this._rawGrammars[e];if(!i)return null;this._grammars[e]=we.createGrammar(i,t,r,o,this)}return this._grammars[e]},n}();ue.SyncRegistry=Mt;var Z={},D={};D.__esModule=!0;D.parse=D.parseWithLocation=void 0;function Lt(n,e,t){return Be(n,e,t)}D.parseWithLocation=Lt;function Nt(n){return Be(n,null,null)}D.parse=Nt;function Be(n,e,t){var r=n.length,o=0,i=1,s=0;r>0&&n.charCodeAt(0)===65279&&(o=1);function a(f){if(t===null)o=o+f;else for(;f>0;){var v=n.charCodeAt(o);v===10?(o++,i++,s=0):(o++,s++),f--}}function c(f){t===null?o=f:a(f-o)}function u(){for(;o<r;){var f=n.charCodeAt(o);if(f!==32&&f!==9&&f!==13&&f!==10)break;a(1)}}function l(f){return n.substr(o,f.length)===f?(a(f.length),!0):!1}function p(f){var v=n.indexOf(f,o);c(v!==-1?v+f.length:r)}function h(f){var v=n.indexOf(f,o);if(v!==-1){var E=n.substring(o,v);return c(v+f.length),E}else{var E=n.substr(o);return c(r),E}}var d=0,g=null,y=[],k=[],m=null;function w(f,v){y.push(d),k.push(g),d=f,g=v}function x(){if(y.length===0)return _("illegal state stack");d=y.pop(),g=k.pop()}function _(f){throw new Error("Near offset "+o+": "+f+" ~~~"+n.substr(o,50)+"~~~")}var S={enterDict:function(){if(m===null)return _("missing <key>");var f={};t!==null&&(f[t]={filename:e,line:i,char:s}),g[m]=f,m=null,w(1,f)},enterArray:function(){if(m===null)return _("missing <key>");var f=[];g[m]=f,m=null,w(2,f)}},G={enterDict:function(){var f={};t!==null&&(f[t]={filename:e,line:i,char:s}),g.push(f),w(1,f)},enterArray:function(){var f=[];g.push(f),w(2,f)}};function $(){d===1?S.enterDict():d===2?G.enterDict():(g={},t!==null&&(g[t]={filename:e,line:i,char:s}),w(1,g))}function M(){if(d===1)x();else return _("unexpected </dict>")}function Qe(){d===1?S.enterArray():d===2?G.enterArray():(g=[],w(2,g))}function _e(){if(d===1)return _("unexpected </array>");if(d===2)x();else return _("unexpected </array>")}function Xe(f){if(d===1){if(m!==null)return _("too many <key>");m=f}else return _("unexpected <key>")}function Je(f){if(d===1){if(m===null)return _("missing <key>");g[m]=f,m=null}else d===2?g.push(f):g=f}function Ye(f){if(isNaN(f))return _("cannot parse float");if(d===1){if(m===null)return _("missing <key>");g[m]=f,m=null}else d===2?g.push(f):g=f}function Ke(f){if(isNaN(f))return _("cannot parse integer");if(d===1){if(m===null)return _("missing <key>");g[m]=f,m=null}else d===2?g.push(f):g=f}function Ze(f){if(d===1){if(m===null)return _("missing <key>");g[m]=f,m=null}else d===2?g.push(f):g=f}function et(f){if(d===1){if(m===null)return _("missing <key>");g[m]=f,m=null}else d===2?g.push(f):g=f}function ye(f){if(d===1){if(m===null)return _("missing <key>");g[m]=f,m=null}else d===2?g.push(f):g=f}function tt(f){return f.replace(/&#([0-9]+);/g,function(v,E){return String.fromCodePoint(parseInt(E,10))}).replace(/&#x([0-9a-f]+);/g,function(v,E){return String.fromCodePoint(parseInt(E,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(v){switch(v){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return v})}function nt(){var f=h(">"),v=!1;return f.charCodeAt(f.length-1)===47&&(v=!0,f=f.substring(0,f.length-1)),{name:f.trim(),isClosed:v}}function I(f){if(f.isClosed)return"";var v=h("</");return p(">"),tt(v)}for(;o<r&&(u(),!(o>=r));){var rt=n.charCodeAt(o);if(a(1),rt!==60)return _("expected <");if(o>=r)return _("unexpected end of input");var te=n.charCodeAt(o);if(te===63){a(1),p("?>");continue}if(te===33){if(a(1),l("--")){p("-->");continue}p(">");continue}if(te===47){if(a(1),u(),l("plist")){p(">");continue}if(l("dict")){p(">"),M();continue}if(l("array")){p(">"),_e();continue}return _("unexpected closed tag")}var R=nt();switch(R.name){case"dict":$(),R.isClosed&&M();continue;case"array":Qe(),R.isClosed&&_e();continue;case"key":Xe(I(R));continue;case"string":Je(I(R));continue;case"real":Ye(parseFloat(I(R)));continue;case"integer":Ke(parseInt(I(R),10));continue;case"date":Ze(new Date(I(R)));continue;case"data":et(I(R));continue;case"true":I(R),ye(!0);continue;case"false":I(R),ye(!1);continue}if(!/^plist/.test(R.name))return _("unexpected opened tag "+R.name)}return g}var de={};Object.defineProperty(de,"__esModule",{value:!0});function $e(n,e){throw new Error("Near offset "+n.pos+": "+e+" ~~~"+n.source.substr(n.pos,50)+"~~~")}function Ot(n,e,t){var r=new Dt(n),o=new jt,i=0,s=null,a=[],c=[];function u(){a.push(i),c.push(s)}function l(){i=a.pop(),s=c.pop()}function p(y){$e(r,y)}for(;ne(r,o);){if(i===0){if(s!==null&&p("too many constructs in root"),o.type===3){s={},t&&(s.$vscodeTextmateLocation=o.toLocation(e)),u(),i=1;continue}if(o.type===2){s=[],u(),i=4;continue}p("unexpected token in root")}if(i===2){if(o.type===5){l();continue}if(o.type===7){i=3;continue}p("expected , or }")}if(i===1||i===3){if(i===1&&o.type===5){l();continue}if(o.type===1){var h=o.value;if((!ne(r,o)||o.type!==6)&&p("expected colon"),ne(r,o)||p("expected value"),i=2,o.type===1){s[h]=o.value;continue}if(o.type===8){s[h]=null;continue}if(o.type===9){s[h]=!0;continue}if(o.type===10){s[h]=!1;continue}if(o.type===11){s[h]=parseFloat(o.value);continue}if(o.type===2){var d=[];s[h]=d,u(),i=4,s=d;continue}if(o.type===3){var g={};t&&(g.$vscodeTextmateLocation=o.toLocation(e)),s[h]=g,u(),i=1,s=g;continue}}p("unexpected token in dict")}if(i===5){if(o.type===4){l();continue}if(o.type===7){i=6;continue}p("expected , or ]")}if(i===4||i===6){if(i===4&&o.type===4){l();continue}if(i=5,o.type===1){s.push(o.value);continue}if(o.type===8){s.push(null);continue}if(o.type===9){s.push(!0);continue}if(o.type===10){s.push(!1);continue}if(o.type===11){s.push(parseFloat(o.value));continue}if(o.type===2){var d=[];s.push(d),u(),i=4,s=d;continue}if(o.type===3){var g={};t&&(g.$vscodeTextmateLocation=o.toLocation(e)),s.push(g),u(),i=1,s=g;continue}p("unexpected token in array")}p("unknown state")}return c.length!==0&&p("unclosed constructs"),s}de.parse=Ot;var Dt=function(){function n(e){this.source=e,this.pos=0,this.len=e.length,this.line=1,this.char=0}return n}(),jt=function(){function n(){this.value=null,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return n.prototype.toLocation=function(e){return{filename:e,line:this.line,char:this.char}},n}();function ne(n,e){e.value=null,e.type=0,e.offset=-1,e.len=-1,e.line=-1,e.char=-1;var t=n.source,r=n.pos,o=n.len,i=n.line,s=n.char,a;do{if(r>=o)return!1;if(a=t.charCodeAt(r),a===32||a===9||a===13){r++,s++;continue}if(a===10){r++,i++,s=0;continue}break}while(!0);if(e.offset=r,e.line=i,e.char=s,a===34){e.type=1,r++,s++;do{if(r>=o)return!1;if(a=t.charCodeAt(r),r++,s++,a===92){r++,s++;continue}if(a===34)break}while(!0);e.value=t.substring(e.offset+1,r-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(c,u){return String.fromCodePoint(parseInt(u,16))}).replace(/\\(.)/g,function(c,u){switch(u){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:$e(n,"invalid escape sequence")}})}else if(a===91)e.type=2,r++,s++;else if(a===123)e.type=3,r++,s++;else if(a===93)e.type=4,r++,s++;else if(a===125)e.type=5,r++,s++;else if(a===58)e.type=6,r++,s++;else if(a===44)e.type=7,r++,s++;else if(a===110){if(e.type=8,r++,s++,a=t.charCodeAt(r),a!==117||(r++,s++,a=t.charCodeAt(r),a!==108)||(r++,s++,a=t.charCodeAt(r),a!==108))return!1;r++,s++}else if(a===116){if(e.type=9,r++,s++,a=t.charCodeAt(r),a!==114||(r++,s++,a=t.charCodeAt(r),a!==117)||(r++,s++,a=t.charCodeAt(r),a!==101))return!1;r++,s++}else if(a===102){if(e.type=10,r++,s++,a=t.charCodeAt(r),a!==97||(r++,s++,a=t.charCodeAt(r),a!==108)||(r++,s++,a=t.charCodeAt(r),a!==115)||(r++,s++,a=t.charCodeAt(r),a!==101))return!1;r++,s++}else{e.type=11;do{if(r>=o)return!1;if(a=t.charCodeAt(r),a===46||a>=48&&a<=57||a===101||a===69||a===45||a===43){r++,s++;continue}break}while(!0)}return e.len=r-e.offset,e.value===null&&(e.value=t.substr(e.offset,e.len)),n.pos=r,n.line=i,n.char=s,!0}Object.defineProperty(Z,"__esModule",{value:!0});var Te=D,Fe=X,Bt=de;function $t(n,e){return Fe.CAPTURE_METADATA?Bt.parse(n,e,!0):JSON.parse(n)}Z.parseJSONGrammar=$t;function Ft(n,e){return Fe.CAPTURE_METADATA?Te.parseWithLocation(n,e,"$vscodeTextmateLocation"):Te.parse(n)}Z.parsePLISTGrammar=Ft;var P={};Object.defineProperty(P,"__esModule",{value:!0});var We=function(){function n(e,t,r,o,i,s){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=o,this.foreground=i,this.background=s}return n}();P.ParsedThemeRule=We;function Ae(n){return!!(/^#[0-9a-f]{6}$/i.test(n)||/^#[0-9a-f]{8}$/i.test(n)||/^#[0-9a-f]{3}$/i.test(n)||/^#[0-9a-f]{4}$/i.test(n))}function Ue(n){if(!n)return[];if(!n.settings||!Array.isArray(n.settings))return[];for(var e=n.settings,t=[],r=0,o=0,i=e.length;o<i;o++){var s=e[o];if(s.settings){var a=void 0;if(typeof s.scope=="string"){var c=s.scope;c=c.replace(/^[,]+/,""),c=c.replace(/[,]+$/,""),a=c.split(",")}else Array.isArray(s.scope)?a=s.scope:a=[""];var u=-1;if(typeof s.settings.fontStyle=="string"){u=0;for(var l=s.settings.fontStyle.split(" "),p=0,h=l.length;p<h;p++){var d=l[p];switch(d){case"italic":u=u|1;break;case"bold":u=u|2;break;case"underline":u=u|4;break}}}var g=null;typeof s.settings.foreground=="string"&&Ae(s.settings.foreground)&&(g=s.settings.foreground);var y=null;typeof s.settings.background=="string"&&Ae(s.settings.background)&&(y=s.settings.background);for(var p=0,h=a.length;p<h;p++){var c=a[p].trim(),l=c.split(" "),k=l[l.length-1],m=null;l.length>1&&(m=l.slice(0,l.length-1),m.reverse()),t[r++]=new We(k,m,o,u,g,y)}}}return t}P.parseTheme=Ue;function Wt(n){n.sort(function(p,h){var d=ge(p.scope,h.scope);return d!==0||(d=me(p.parentScopes,h.parentScopes),d!==0)?d:p.index-h.index});for(var e=0,t="#000000",r="#ffffff";n.length>=1&&n[0].scope==="";){var o=n.shift();o.fontStyle!==-1&&(e=o.fontStyle),o.foreground!==null&&(t=o.foreground),o.background!==null&&(r=o.background)}for(var i=new qe,s=new V(0,null,e,i.getId(t),i.getId(r)),a=new Ve(new V(0,null,-1,0,0),[]),c=0,u=n.length;c<u;c++){var l=n[c];a.insert(0,l.scope,l.parentScopes,l.fontStyle,i.getId(l.foreground),i.getId(l.background))}return new ze(i,s,a)}var qe=function(){function n(){this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null)}return n.prototype.getId=function(e){if(e===null)return 0;e=e.toUpperCase();var t=this._color2id[e];return t||(t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t)},n.prototype.getColorMap=function(){return this._id2color.slice(0)},n}();P.ColorMap=qe;var ze=function(){function n(e,t,r){this._colorMap=e,this._root=r,this._defaults=t,this._cache={}}return n.createFromRawTheme=function(e){return this.createFromParsedTheme(Ue(e))},n.createFromParsedTheme=function(e){return Wt(e)},n.prototype.getColorMap=function(){return this._colorMap.getColorMap()},n.prototype.getDefaults=function(){return this._defaults},n.prototype.match=function(e){return this._cache.hasOwnProperty(e)||(this._cache[e]=this._root.match(e)),this._cache[e]},n}();P.Theme=ze;function ge(n,e){return n<e?-1:n>e?1:0}P.strcmp=ge;function me(n,e){if(n===null&&e===null)return 0;if(!n)return-1;if(!e)return 1;var t=n.length,r=e.length;if(t===r){for(var o=0;o<t;o++){var i=ge(n[o],e[o]);if(i!==0)return i}return 0}return t-r}P.strArrCmp=me;var V=function(){function n(e,t,r,o,i){this.scopeDepth=e,this.parentScopes=t,this.fontStyle=r,this.foreground=o,this.background=i}return n.prototype.clone=function(){return new n(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},n.cloneArr=function(e){for(var t=[],r=0,o=e.length;r<o;r++)t[r]=e[r].clone();return t},n.prototype.acceptOverwrite=function(e,t,r,o){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,t!==-1&&(this.fontStyle=t),r!==0&&(this.foreground=r),o!==0&&(this.background=o)},n}();P.ThemeTrieElementRule=V;var Ve=function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this._mainRule=e,this._rulesWithParentScopes=t,this._children=r}return n._sortBySpecificity=function(e){return e.length===1||e.sort(this._cmpBySpecificity),e},n._cmpBySpecificity=function(e,t){if(e.scopeDepth===t.scopeDepth){var r=e.parentScopes,o=t.parentScopes,i=r===null?0:r.length,s=o===null?0:o.length;if(i===s)for(var a=0;a<i;a++){var c=r[a].length,u=o[a].length;if(c!==u)return u-c}return s-i}return t.scopeDepth-e.scopeDepth},n.prototype.match=function(e){if(e==="")return n._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var t=e.indexOf("."),r,o;return t===-1?(r=e,o=""):(r=e.substring(0,t),o=e.substring(t+1)),this._children.hasOwnProperty(r)?this._children[r].match(o):n._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},n.prototype.insert=function(e,t,r,o,i,s){if(t===""){this._doInsertHere(e,r,o,i,s);return}var a=t.indexOf("."),c,u;a===-1?(c=t,u=""):(c=t.substring(0,a),u=t.substring(a+1));var l;this._children.hasOwnProperty(c)?l=this._children[c]:(l=new n(this._mainRule.clone(),V.cloneArr(this._rulesWithParentScopes)),this._children[c]=l),l.insert(e+1,u,r,o,i,s)},n.prototype._doInsertHere=function(e,t,r,o,i){if(t===null){this._mainRule.acceptOverwrite(e,r,o,i);return}for(var s=0,a=this._rulesWithParentScopes.length;s<a;s++){var c=this._rulesWithParentScopes[s];if(me(c.parentScopes,t)===0){c.acceptOverwrite(e,r,o,i);return}}r===-1&&(r=this._mainRule.fontStyle),o===0&&(o=this._mainRule.foreground),i===0&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new V(e,t,r,o,i))},n}();P.ThemeTrieElement=Ve;var W=L&&L.__awaiter||function(n,e,t,r){return new(t||(t=Promise))(function(o,i){function s(u){try{c(r.next(u))}catch(l){i(l)}}function a(u){try{c(r.throw(u))}catch(l){i(l)}}function c(u){u.done?o(u.value):new t(function(l){l(u.value)}).then(s,a)}c((r=r.apply(n,e||[])).next())})},U=L&&L.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(l){u=[6,l],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Y,"__esModule",{value:!0});var Ut=ue,Pe=Z,Ie=P,qt=A,zt={getGrammarDefinition:function(n){return null},getInjections:function(n){return null}},Vt=function(){function n(e){e===void 0&&(e=zt),this._locator=e,this._syncRegistry=new Ut.SyncRegistry(Ie.Theme.createFromRawTheme(e.theme)),this.installationQueue=new Map}return n.prototype.setTheme=function(e){this._syncRegistry.setTheme(Ie.Theme.createFromRawTheme(e))},n.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},n.prototype.loadGrammarWithEmbeddedLanguages=function(e,t,r){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:r})},n.prototype.loadGrammarWithConfiguration=function(e,t,r){return W(this,void 0,void 0,function(){return U(this,function(o){switch(o.label){case 0:return[4,this._loadGrammar(e)];case 1:return o.sent(),[2,this.grammarForScopeName(e,t,r.embeddedLanguages,r.tokenTypes)]}})})},n.prototype.loadGrammar=function(e){return W(this,void 0,void 0,function(){return U(this,function(t){return[2,this._loadGrammar(e)]})})},n.prototype._loadGrammar=function(e,t){return t===void 0&&(t=null),W(this,void 0,void 0,function(){var r,o=this;return U(this,function(i){switch(i.label){case 0:return this._syncRegistry.lookup(e)?[2,this.grammarForScopeName(e)]:this.installationQueue.has(e)?[2,this.installationQueue.get(e)]:(r=new Promise(function(s,a){return W(o,void 0,void 0,function(){var c,u,l,p,h=this;return U(this,function(d){switch(d.label){case 0:return[4,this._locator.getGrammarDefinition(e,t)];case 1:if(c=d.sent(),!c)throw new Error("A tmGrammar load was requested but registry host failed to provide grammar definition");if(c.format!=="json"&&c.format!=="plist"||c.format==="json"&&typeof c.content!="object"&&typeof c.content!="string"||c.format==="plist"&&typeof c.content!="string")throw new TypeError('Grammar definition must be an object, either `{ content: string | object, format: "json" }` OR `{ content: string, format: "plist" }`)');return u=c.format==="json"?typeof c.content=="string"?Pe.parseJSONGrammar(c.content,"c://fakepath/grammar.json"):c.content:Pe.parsePLISTGrammar(c.content,"c://fakepath/grammar.plist"),l=typeof this._locator.getInjections=="function"&&this._locator.getInjections(e),u.scopeName=e,p=this._syncRegistry.addGrammar(u,l),[4,Promise.all(p.map(function(g){return W(h,void 0,void 0,function(){return U(this,function(y){try{return[2,this._loadGrammar(g,e)]}catch(k){throw new Error("While trying to load tmGrammar with scopeId: '"+e+"', it's dependency (scopeId: "+g+") loading errored: "+k.message)}return[2]})})}))];case 2:return d.sent(),s(this.grammarForScopeName(e)),[2]}})})}),this.installationQueue.set(e,r),[4,r]);case 1:return i.sent(),this.installationQueue.delete(e),[2,r]}})})},n.prototype.grammarForScopeName=function(e,t,r,o){return t===void 0&&(t=0),r===void 0&&(r=null),o===void 0&&(o=null),this._syncRegistry.grammarForScopeName(e,t,r,o)},n}(),Ht=Y.Registry=Vt;Y.INITIAL=qt.StackElement.NULL;var ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.TMToMonacoToken=void 0;const Qt=(n,e)=>{let t="";for(let r=e[0].length-1;r>=0;r-=1){const o=e[0][r];if(o===".")break;t=o+t}for(let r=e.length-1;r>=0;r-=1){const o=e[r];for(let i=o.length-1;i>=0;i-=1)if(o[i]==="."){const s=o.slice(0,i);if(n._themeService._theme._tokenTheme._match(s+"."+t)._foreground>1)return s+"."+t;if(n._themeService._theme._tokenTheme._match(s)._foreground>1)return s}}return""};ee.TMToMonacoToken=Qt;Object.defineProperty(ce,"__esModule",{value:!0});var He=ce.wireTmGrammars=void 0;const Xt=Y,Jt=ee;class H{constructor(e){ct(this,"_ruleStack"),this._ruleStack=e}get ruleStack(){return this._ruleStack}clone(){return new H(this._ruleStack)}equals(e){return!(!e||!(e instanceof H)||e!==this||e._ruleStack!==this._ruleStack)}}function Yt(n,e,t,r){return Promise.all(Array.from(t.keys()).map(async o=>{const i=await e.loadGrammar(t.get(o));n.languages.setTokensProvider(o,{getInitialState:()=>new H(Xt.INITIAL),tokenize:(s,a)=>{const c=i.tokenizeLine(s,a.ruleStack);return{endState:new H(c.ruleStack),tokens:c.tokens.map(u=>({...u,scopes:r?(0,Jt.TMToMonacoToken)(r,u.scopes):u.scopes[u.scopes.length-1]}))}}})}))}He=ce.wireTmGrammars=Yt;async function Kt(n){switch(n){case"source.vue":return{format:"json",content:await F(()=>import("./vue.tmLanguage-f7d3e7a0-623a969f.js"),[])};case"source.ts":return{format:"json",content:await F(()=>import("./TypeScript.tmLanguage-910792ad-9db8d90c.js"),[])};case"source.js":return{format:"json",content:await F(()=>import("./JavaScript.tmLanguage-256c1bfe-0bfb9401.js"),[])};case"text.html.basic":return{format:"json",content:await F(()=>import("./html.tmLanguage-fbe14fdf-ea50c787.js"),[])};case"source.css":return{format:"json",content:await F(()=>import("./css.tmLanguage-fa2d5416-053c35a3.js"),[])};default:return{format:"json",content:{scopeName:"source",patterns:[]}}}}async function en(n,e){const t=new Ht({getGrammarDefinition:async o=>{const i=await Kt(o);return JSON.parse(JSON.stringify(i))}}),r=new Map;r.set("vue","source.vue"),r.set("javascript","source.js"),r.set("typescript","source.ts"),r.set("css","source.css"),r.set("html","text.html.basic");for(const o of r.keys())n.languages.register({id:o});await He(n,t,r,e)}export{en as loadGrammars};
